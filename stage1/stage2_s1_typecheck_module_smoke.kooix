import "../stdlib/prelude";
import "ast";
import "lexer";
import "parser";
import "typecheck";

fn main() -> Int {
  let src: Text = "fn main() -> Int { let x: Int = 1; x };";
  let r1: Result<List<S1Token>, S1Diagnostic> = s1_lex(src);
  match r1 {
    Err(_e1) => 90;
    Ok(ts) => {
      let r2: Result<S1Program, S1Diagnostic> = s1_parse(ts);
      match r2 {
        Err(_e2) => 91;
        Ok(p) => {
          let r3: Result<S1Program, S1Diagnostic> = s1_typecheck_program(p);
          match r3 {
            Err(_e3) => 92;
            Ok(_p2) => 0;
          }
        };
      }
    };
  }
};

