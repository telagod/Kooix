import "../stdlib/prelude";

// Minimal Stage2 target (v0):
// - Int-only functions
// - `+` and direct function calls
// - deterministic exit code 0 (so `--run` passes)

fn add2(x: Int, y: Int) -> Int { x + y };

fn add3(x: Int) -> Int {
  let y: Int = x + 3;
  add2(y, 0)
};

fn sink(_x: Int) -> Int { 0 };

fn main() -> Int {
  let v: Int = add3(39);
  if v == 42 { sink(v) } else { 1 }
};
