import "../stdlib/prelude";

// Minimal Stage2 target (v0): validates self-host LLVM IR emission.
// Covered subset:
// - Int-only functions
// - `+`, `==`, `!=`
// - direct calls
// - `let`, assignment, `while`, `if` expression

fn add2(x: Int, y: Int) -> Int { x + y };

fn loop_to(n: Int) -> Int {
  let i: Int = 0;
  while i != n {
    i = i + 1;
  };
  i
};

fn main() -> Int {
  let v: Int = loop_to(add2(7, 3));
  if v == 10 { 0 } else { 1 }
};
